-- OrderSYS.sql
-- This script builds and poulates the database schema used in Asso1 2014
--
PROMPT OrderSYS.sql STARTED.....
PROMPT
PROMPT DROPPING TABLES
PROMPT
DROP TABLE OrderItems;
DROP TABLE Orders;
DROP TABLE Customers;
DROP TABLE Stock;

PROMPT CREATING TABLES
PROMPT
PROMPT CREATING TABLE Stock
PROMPT
CREATE TABLE Stock
(StockID numeric(4),
 Description char(20),
 CostPrice numeric(5,2),
 SalePrice numeric(5,2),
 Qty numeric(4),
 CONSTRAINT pk_Stock PRIMARY KEY(StockId));
 
PROMPT CREATING TABLE Customers
PROMPT
CREATE TABLE Customers
(CustID numeric(5),
 Surname char(25),
 Forename char(20),
 email char(25),
 RegDate Date,
 Balance numeric(6,2),
 CONSTRAINT pk_Customers PRIMARY KEY(CustID));

PROMPT CREATING TABLE Orders
PROMPT
CREATE TABLE Orders
(OrdID numeric(5),
 OrdDate Date,
 OrdValue numeric(7,2),
 CustID numeric(5),
 CONSTRAINT pk_Orders PRIMARY KEY (OrdId),
 CONSTRAINT fk_Orders_Cust FOREIGN KEY (CustID) REFERENCES Customers);

PROMPT CREATING TABLE OrderItems
PROMPT
CREATE TABLE OrderItems
(OrdID numeric(5),
 StockID numeric(4),
 Qty numeric(4),
 UnitPrice numeric(5,2),
 CONSTRAINT pk_OrdItems PRIMARY KEY (OrdID,StockID),
 CONSTRAINT fk_OrdItems_Orders FOREIGN KEY (OrdID) REFERENCES Orders,
 CONSTRAINT fk_OrdItems_Stock FOREIGN KEY (StockID) REFERENCES Stock);

PROMPT POPULATING TABLES
PROMPT
PROMPT POPULATING TABLE Stock (15 records)
PROMPT
INSERT INTO Stock
VALUES(7001,'LEVIS 501',55.00,85.00,32);
INSERT INTO Stock
VALUES(7002,'PEPE REGULAR',35.00,48.50,12);
INSERT INTO Stock
VALUES(7003,'PEPE SKINNY',48.75,75.00,9);
INSERT INTO Stock
VALUES(7004,'LEVIS 901',85.15,105.99,22);
INSERT INTO Stock
VALUES(7005,'KALVIN KLEIN ST',125.00,165.50,5);
INSERT INTO Stock
VALUES(7006,'WRANGLER REG',58.00,76.90,10);
INSERT INTO Stock
VALUES(7007,'WRANGLER SKY',36.00,58.99,30);
INSERT INTO Stock
VALUES(7008,'WRANGLER BOOT',50.00,75.00,14);
INSERT INTO Stock
VALUES(7009,'PEPE BOOT',30.00,45.00,26);
INSERT INTO Stock
VALUES(7010,'LEVIS 601',95.00,145.00,8);
INSERT INTO Stock
VALUES(7011,'WRANGLER WIDE',25.00,35.00,3);
INSERT INTO Stock
VALUES(7012,'DOCKERS',65.00,85.50,35);
INSERT INTO Stock
VALUES(7013,'PEPE COMFORT',47.00,63.00,18);
INSERT INTO Stock
VALUES(7014,'FALMERS REG',27.00,38.00,16);
INSERT INTO Stock
VALUES(7015,'FALMERS BOOT',30.00,42.00,3);
PROMPT
PROMPT POPULATING TABLE Customers (10 records)
PROMPT
INSERT INTO Customers
VALUES(10001,'SMITH','JOHN','john@yahoo.co.uk','08-JUN-12',0.00);
INSERT INTO Customers
VALUES(10002,'KELLY','JIM','jk21@hotmail.com','15-APR-13',0.80);
INSERT INTO Customers
VALUES(10003,'LYNCH','ANNE','AM1964@gmail.com','20-JUN-13',751.05);
INSERT INTO Customers
VALUES(10004,'SMITH','BRENDAN','bsmith@hotmail.com','24-JUN-13',0.00);
INSERT INTO Customers
VALUES(10005,'FOLEY','CLAIRE','clairef@eircom.net','03-JAN-14',50.00);
INSERT INTO Customers
VALUES(10006,'O SULLIVAN','JOHN','johnos@gmail.com','04-JAN-14',780.50);
INSERT INTO Customers
VALUES(10007,'SMITH','ALEX','alexsmith@gmail.com','16-MAY-14',0.00);
INSERT INTO Customers
VALUES(10008,'O SULLIVAN','AIDAN','Aidan1@gmail.com','18-SEP-14',0.00);
INSERT INTO Customers
VALUES(10009,'LOWRY','MICHAEL','mc@eircom.net','21-SEP-14',0.00);
INSERT INTO Customers
VALUES(10010,'O FLYNN','JAMES','jof@gmail.com','12-OCT-14',0.00);

PROMPT
PROMPT POPULATING TABLE ORDERS (18 records) AND TABLE OrderItems
PROMPT
INSERT INTO Orders
VALUES(27003,'12-MAR-13',165.50,10001);
INSERT INTO OrderItems
VALUES(27003,7005,1,165.50);

INSERT INTO Orders
VALUES(27004,'26-APR-13',202.00,10002);
INSERT INTO OrderItems
VALUES(27004,7014,2,76.00);
INSERT INTO OrderItems
VALUES(27004,7015,3,42.00);
 
INSERT INTO Orders
VALUES(27005,'02-JUN-13',1361.98,10001);
INSERT INTO OrderItems
VALUES(27005,7001,5,85.00);
INSERT INTO OrderItems
VALUES(27005,7010,5,145.00);
INSERT INTO OrderItems
VALUES(27005,7004,2,105.99);
 
INSERT INTO Orders
VALUES(27006,'12-AUG-13',211.50,10004);
INSERT INTO OrderItems
VALUES(27006,7012,1,85.50);
INSERT INTO OrderItems
VALUES(27006,7013,2,63.00);
 
INSERT INTO Orders
VALUES(27007,'22-OCT-13',85.50,10002);
INSERT INTO OrderItems
VALUES(27007,7012,1,85.50);

INSERT INTO Orders
VALUES(27008,'22-OCT-13',135.00,10001);
INSERT INTO OrderItems
VALUES(27008,7009,3,45.00);

INSERT INTO Orders
VALUES(27009,'12-DEC-13',1679.95,10001);
INSERT INTO OrderItems
VALUES(27009,7001,5,85.00);
INSERT INTO OrderItems
VALUES(27009,7010,5,145.00);
INSERT INTO OrderItems
VALUES(27009,7004,5,105.99);

INSERT INTO Orders
VALUES(27010,'14-DEC-13',571.50,10003);
INSERT INTO OrderItems
VALUES(27010,7012,3,85.50);
INSERT INTO OrderItems
VALUES(27010,7013,5,63.00);

INSERT INTO Orders
VALUES(27011,'15-DEC-13',315.00,10003);
INSERT INTO OrderItems
VALUES(27011,7010,1,145.00);
INSERT INTO OrderItems
VALUES(27011,7008,2,85.00);
 
INSERT INTO Orders
VALUES(27012,'08-JAN-14',38.00,10006);
INSERT INTO OrderItems
VALUES(27012,7014,1,38.00);

INSERT INTO Orders
VALUES(27013,'11-JAN-14',320.00,10005);
INSERT INTO OrderItems
VALUES(27013,7003,2,75.00);
INSERT INTO OrderItems
VALUES(27013,7001,2,85.00);

INSERT INTO Orders
VALUES(27014,'12-JAN-14',485.00,10002);
INSERT INTO OrderItems
VALUES(27014,7002,10,48.50);

INSERT INTO Orders
VALUES(27015,'07-MAR-14',780.50,10006);
INSERT INTO OrderItems
VALUES(27015,7003,2,75.00);
INSERT INTO OrderItems
VALUES(27015,7014,2,38.00);
INSERT INTO OrderItems
VALUES(27015,7001,2,85.00);
INSERT INTO OrderItems
VALUES(27015,7006,5,76.90);

INSERT INTO Orders
VALUES(27016,'23-JUN-14',150.00,10002);
INSERT INTO OrderItems
VALUES(27016,7003,2,75.00);

INSERT INTO Orders
VALUES(27017,'28-JUN-14',470.00,10005);
INSERT INTO OrderItems
VALUES(27017,7003,4,75.00);
INSERT INTO OrderItems
VALUES(27017,7008,2,85.00);

INSERT INTO Orders
VALUES(27018,'13-AUG-14',300.00,10002);
INSERT INTO OrderItems
VALUES(27018,7003,4,75.00);

INSERT INTO Orders
VALUES(27019,'18-SEP-14',314.49,10008);
INSERT INTO OrderItems
VALUES(27019,7003,1,75.00);
INSERT INTO OrderItems
VALUES(27019,7001,1,85.00);
INSERT INTO OrderItems
VALUES(27019,7002,1,48.50);
INSERT INTO OrderItems
VALUES(27019,7004,1,105.99);

INSERT INTO Orders
VALUES(27020,'28-SEP-14',229.80,10009);
INSERT INTO OrderItems
VALUES(27020,7014,2,38.00);
INSERT INTO OrderItems
VALUES(27020,7006,2,76.90);

COMMIT;