(function(c){var f=c(".from-search-navigate");if(f.length){var a=c(".from-search-toc");var d=window._gaq||[];f.mozMenu({submenu:a,brickOnClick:true,onOpen:function(){d.push(["_trackEvent","Search doc navigator","Open on hover"])},onClose:function(){d.push(["_trackEvent","Search doc navigator","Close on blur"])}});a.find("ol").mozKeyboardNav()}function b(h){var j="mdn.search";var i=["key","data"];var g=function(k){return j+"."+k};return{flush:function(){var k=this;c.each(i,function(l,m){k.removeItem(m)})},serialize:function(k){return JSON.stringify(k)},deserialize:function(k){if(typeof k!="string"){return undefined}try{return JSON.parse(k)}catch(l){return k||undefined}},getItem:function(k){return this.deserialize(sessionStorage.getItem(g(k)))},setItem:function(k,l){return sessionStorage.setItem(g(k),this.serialize(l))},removeItem:function(k){return sessionStorage.removeItem(g(k))}}}var e=b();if(c("body").hasClass("search-navigator-flush")){e.flush()}c.fn.mozSearchResults=function(g,m){var i;var l;var k;var g=g;var h=e.getItem("key");var j=function(n){if(n!==null&&typeof n.query!="undefined"){c("#main-q").val(n.query)}c.each(n.documents,function(p,r){var q=c("<a>",{text:r.title,href:r.url,on:{click:function(){m.push(["_trackEvent","Search doc navigator","Click",c(this).attr("href"),r.id])}}});if(r.slug===c("body").data("slug")){q.addClass("current");i=n.documents[p+1];if(typeof i!="undefined"){c(".from-search-next").each(function(){c(this).attr("href",i.url).on("click",function(){m.push(["_trackEvent","Search doc navigator","Click next",i.url,i.id])}).parent().show()})}l=n.documents[p-1];if(typeof l!="undefined"){c(".from-search-previous").each(function(){c(this).attr("href",l.url).on("click",function(){m.push(["_trackEvent","Search doc navigator","Click previous",l.url,l.id])}).parent().addClass("from-search-spacer").show()})}}var o=c("<li></li>").append(q);c(".from-search-toc ol").append(o)})};if(g===""){if(h===null){return this}else{g=h}}else{e.setItem("key",g)}k=e.getItem("data");if(typeof k=="undefined"){c.ajax({url:g,dataType:"json",success:function(n){e.setItem("data",n);j(n)},error:function(p,n,o){console.error(g,n,o.toString())}})}else{j(k)}return this};c(".search-results-topics").on("change","input",function(g){c("#search-form").submit();c(this).parents("fieldset").attr("disabled","disabled")})})(jQuery);(function(e,d,c){c(".toggleable").mozTogglers();(function(){var f=c("#quick-links");b(f.find("> ul > li, > ol > li"));f.find(".toggleable").mozTogglers();var h=c("#wiki-column-container");var g=c("#wiki-controls .quick-links");var j=c("#wiki-left").get(0);if(j){var i=j.parentNode}c("#quick-links-toggle, #show-quick-links").on("click",function(k){k.preventDefault();c(j).toggleClass("column-closed");h.toggleClass("wiki-left-closed");g.toggleClass("hidden");if(c(j).hasClass("column-closed")){i.removeChild(j)}else{i.appendChild(j)}})})();c(".subnav").each(function(){var l=c(this);var f=l.find(" > ol");var h=c(".zone-landing-header-preview-base").length?k:j;if(!f.length){return}b(f.find("li"));f.find(".toggleable").mozTogglers({slideCallback:h});var i=[];var g=f.find('a[href$="'+d.location.pathname+'"]');g.each(function(){var m=this;var n=c(this).parents(".toggleable").find(".toggler");n.each(function(){if(c.contains(c(this).parent("li").get(0),m)&&i.indexOf(this)===-1){c(this).trigger("mdn:click");i.push(this)}})}).parent().addClass("current");f.addClass("accordion");function j(){}function k(){if(c(".zone-landing-header-preview-base").css("position")=="absolute"){c(".wiki-main-content").css("min-height",l.height())}}h()});c(".page-watch a").on("click",function(f){f.preventDefault();c(this).closest("form").submit()});function b(f){f.each(function(){var h=c(this);var g=h.find("> ul, > ol");if(g.length){h.addClass("toggleable closed");h.find("> a").addClass("toggler").prepend('<i aria-hidden="true" class="icon-caret-up"></i>');g.addClass("toggle-container")}})}c("article pre").length&&(function(){var g=e.mdn.mediaPath;c("<link />").attr({type:"text/css",rel:"stylesheet",href:g+"css/syntax-prism-min.css"}).appendTo(d.head);var f=d.createElement("script");f.setAttribute("data-manual","");f.async="true";f.src=g+"js/syntax-prism-min.js";d.body.appendChild(f)})();(function(){var h=c("#toc");if(h.length){var g=h.offset().top;var i=h.find("> .toggler");var f="fixed";var k=c("#wiki-right");var j=a(function(n){var l=e.scrollY;var m=e.innerHeight-parseInt(h.css("padding-top"),10)-parseInt(h.css("padding-bottom"),10);if(l>g&&i.css("pointer-events")=="none"){h.css({width:h.css("width"),maxHeight:m});if(!h.hasClass(f)){h.addClass(f)}}else{h.css({width:"auto",maxHeight:"none"});h.removeClass(f)}if(!n||n.type=="resize"){if(i.css("pointer-events")=="auto"||i.find("i").css("display")!="none"){if(!h.attr("data-closed")){i.trigger("mdn:click")}}else{if(h.attr("data-closed")){i.trigger("mdn:click")}}}},10);j();c(e).on("scroll",j)}})();c(".htab").each(function(f){var g=c(this);var h=g.find(">ul>li");g.append(c("div[id=compat-desktop]")[f]);g.append(c("div[id=compat-mobile]")[f]);h.find("a").on("click mdn:click",function(j){var i=c(this);if(j){j.preventDefault();j.stopPropagation()}h.removeClass("selected");i.parent().addClass("selected");g.find(">div").hide().eq(h.index(i.parent())).show()}).eq(0).trigger("mdn:click")});c("body[contextmenu=edit-history-menu]").mozContextMenu(function(h,f){var g=f.find("menuitem");g.removeAttr("disabled");if(h.hostname&&h.hostname!==location.hostname){g.attr("disabled",true)}f.on("click",function(i){location.href=(h.href||location.href)+c(i.target).data("action")})});c(".stack-form").html('<form action="http://stackoverflow.com/search"><i class="stack-icon" aria-hidden="true"></i><label for="stack-search" class="offscreen">'+gettext("Search Stack Overflow")+'</label><input id="stack-search" placeholder="'+gettext("Search Stack Overflow")+'" /><button type="submit" class="offscreen">Submit Search</button></form>').find("form").on("submit",function(g){g.preventDefault();var f=c(this).find("#stack-search").val();if(f!=""){e.location="http://stackoverflow.com/search?q=[firefox]+or+[firefox-os]+or+[html5-apps]+"+f}});c.extend({parseQuerystring:function(i){var g={};var f=(i||window.location.search).replace("?","");var h=f.split("&");c.each(h,function(k,j){var l=j.split("=");g[l[0]]=l[1]});return g},slugifyString:function(h,g){var f=new RegExp("[?&\"'#*$"+(g?"":"/")+" +?]","g");return h.replace(f,"_").replace(/\$/g,"").replace(/\_+/g,"_")}});function a(g,i,f){var h;return function(){var m=this,l=arguments;var k=function(){h=null;if(!f){g.apply(m,l)}};var j=f&&!h;clearTimeout(h);h=setTimeout(k,i);if(j){g.apply(m,l)}}}})(window,document,jQuery);